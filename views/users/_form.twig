<form id="user-form" action="{{ action }}" method="POST" novalidate>

    <input type="hidden" name="_method" value="{{ method }}">

    <div class="mb-3">
        <label for="name" class="form-label">Full Name</label>
        <input
                type="text"
                id="name"
                name="name"
                class="form-control"
                value="{{ user.name ?? '' }}"
                placeholder="Enter full name"
                required
        >
    </div>

    <div class="mb-3">
        <label for="employee_code" class="form-label">Employee ID</label>
        <input
                type="text"
                id="employee_code"
                name="employee_code"
                class="form-control"
                value="{{ user.employee_code ?? '' }}"
                placeholder="Enter employee ID"
                required
        >
    </div>

    <div class="mb-3">
        <label for="email" class="form-label">Email</label>
        <input
                type="email"
                id="email"
                name="email"
                class="form-control"
                value="{{ user.email ?? '' }}"
                placeholder="Enter email"
                required
        >
    </div>

    <div class="mb-3">
        <label for="username" class="form-label">Username</label>
        <input
                type="text"
                id="username"
                name="username"
                class="form-control"
                value="{{ user.username ?? '' }}"
                placeholder="Enter username"
                required
        >
    </div>

    <div class="mb-3">
        <label for="password" class="form-label">Password</label>
        <input
                type="password"
                id="password"
                name="password"
                class="form-control"
                {% if method == 'PUT' %}
                    placeholder="Optional - To update password enter a new value"
                {% else %}
                    placeholder="Enter password"
                    required
                {% endif %}
        >
    </div>

    <div class="mb-3">
        <label for="role" class="form-label">Role</label>
        <select id="role" name="role" class="form-select" required>
            <option value="">-- Select Role --</option>
            <option value="employee" {{ user.role == 'employee' ? 'selected' : '' }}>Employee</option>
            <option value="manager" {{ user.role == 'manager' ? 'selected' : '' }}>Manager</option>
        </select>
    </div>

    <div class="d-flex justify-content-end">
        <a href="/users" class="btn btn-outline-secondary me-2">Cancel</a>
        <button type="submit" class="btn btn-primary">{{ button_text }}</button>
    </div>
</form>
